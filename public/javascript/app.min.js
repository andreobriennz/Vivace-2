"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vivace={};vivace.entitys={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};var e=function(e){return String(e).replace(/[&<>"'`=\/]/g,function(e){return vivace.entitys[e]})},ajax={};ajax.get=function(e,t){var n=new XMLHttpRequest;n.open("GET",t),n.onload=function(){200===n.status?n.responseText:console.log("Request failed.  Returned status of "+n.status)},n.send()};var data={};data.getInput=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments[2],r=$("#addItem").val();if(void 0===n)return r;data.input[n]=r,!0===t&&(document.getElementById(e).value=""),void 0!==e&&console.log("getInput() params... id, clear (default or flase to not clear, true to clear input), name (to save as property, leave empty to return)")},data.getAttribute=function(e,t,n){var r=$("#"+e).attr(t);if(void 0===n)return r;data.attribute[n]=r,void 0!==e&&console.log("getAttribute() params... id of element, name of attribute, property name to save as (leave empty to return)")},vivace.lazyLoad=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=void 0;switch(e){case"script":r=document.createElement("script"),r.src=t;break;case"link":case"css":r=document.createElement("link"),r.src=href;break;case"image":r=document.createElement("img"),r.src=t,r.setAttribute("alt",n);break;default:console.log("lazyLoad() params... type: (script, link or img). path: path to file. altTag: optional param for images.")}document.body.appendChild(r)};var render={};render.list=function(t,n){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"div",a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o="",i=void 0,c=0;c<n.length;c++)i=n[c],!1!==a&&(i=e(i)),o+="\n    <"+r+">\n      "+i+"\n    </"+r+">";document.getElementById(t).innerHTML=o,void 0===t&&console.log("renderList() params... id of list parent element, list array, element type (optional - default is div)")},render.all=function(){for(var t=document.querySelectorAll("[data-v]"),n=0;n<t.length;n++){var r=t[n],a=r.getAttribute("data-v");if(a.indexOf("|")>=0){a=a.split("|");var o=a[1];a=a[0]}switch(a=app[a],void 0===a?"undefined":_typeof(a)){case"string":a="string"==typeof o?handleParams(a,o):e(a),r.innerHTML=a;break;case"object":case"array":var i=!0;"string"==typeof o&&o.indexOf("raw")>=0&&(i=!1),render.list(r.id,a,"div",i);break;case"function":runFunction(r,a,o);break;default:console.log("Unhandled type while attempting render.all()")}}};var handleParams=function(e,t){if(t.indexOf("raw")>=0)return e},getBrackets=function(e,t,n){return t=e.indexOf(t)+t.length,n=e.indexOf(n),e=e.substring(t,n)},runFunction=function runFunction(el,data,params){var brackets=void 0;params.indexOf("(")>=0&&(brackets=getBrackets(params,"(",")")),params.indexOf("eval")>=0&&(brackets=eval(brackets)),_typeof("string"===data(brackets))?params.indexOf("raw")>=0?el.innerHTML=data(brackets):el.innerHTML=e(data(brackets)):data(brackets)};render.handlebars=function(){for(var e=document.getElementById("app").innerHTML,t=e.replace(/[^{]/g,"").length,n=0;n<t;n++){var r=getBrackets(e,"{","}");e=e.replace("{"+r+"}",app[r])}document.getElementById("app").innerHTML=e},render.watch=function(){render.handlebars(),render.all(),watch(app,function(){render.all()})};var toggleClass=function(e,t){document.getElementById(e).classList.toggle(t),console.log("toggleClass() params... id, class to toggle")},update={};update.html=function(t,n){!1!==(!(arguments.length>2&&void 0!==arguments[2])||arguments[2])&&(n=e(n)),document.getElementById(t).innerHTML=n,"undefined"===t&&console.log("updateHTML() params... id of element, content/string, escapeChars: true (default) or false")},update.attribute=function(t,n,r){document.getElementById(t).setAttribute(n,e(r)),"undefined"===t&&console.log("updateAttribute() params... id, name of attribute, new string for attrubte")},function(e){"object"===("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports=e():"function"==typeof define&&define.amd?define(e):(window.WatchJS=e(),window.watch=window.WatchJS.watch,window.unwatch=window.WatchJS.unwatch,window.callWatchers=window.WatchJS.callWatchers)}(function(){function e(){j=null;for(var e=0;e<_.length;e++)_[e]();_.length=0}var t={noMore:!1,useDirtyCheck:!1},n=[],r=[],a=[],o=!1;try{o=Object.defineProperty&&Object.defineProperty({},"x",{})}catch(e){}var i=function(e){var t={};return e&&"[object Function]"==t.toString.call(e)},c=function(e){return"[object Array]"===Object.prototype.toString.call(e)},l=function(e){return"[object Object]"==={}.toString.apply(e)},s=function(e,t){var n=[],r=[];if("string"!=typeof e&&"string"!=typeof t){if(c(e)&&t)for(var a=0;a<e.length;a++)void 0===t[a]&&n.push(a);else for(var a in e)e.hasOwnProperty(a)&&t&&void 0===t[a]&&n.push(a);if(c(t)&&e)for(var o=0;o<t.length;o++)void 0===e[o]&&r.push(o);else for(var o in t)t.hasOwnProperty(o)&&e&&void 0===e[o]&&r.push(o)}return{added:n,removed:r}},u=function(e){if(null==e||"object"!=(void 0===e?"undefined":_typeof(e)))return e;var t=e.constructor();for(var n in e)t[n]=e[n];return t},f=function(e,t,n,r){try{Object.observe(e,function(e){e.forEach(function(e){e.name===t&&r(e.object[e.name])})})}catch(a){try{Object.defineProperty(e,t,{get:n,set:function(e){r.call(this,e,!0)},enumerable:!0,configurable:!0})}catch(a){try{Object.prototype.__defineGetter__.call(e,t,n),Object.prototype.__defineSetter__.call(e,t,function(e){r.call(this,e,!0)})}catch(n){p(e,t,r)}}}},d=function(e,t,n){try{Object.defineProperty(e,t,{enumerable:!1,configurable:!0,writable:!1,value:n})}catch(r){e[t]=n}},p=function(e,t,n){r[r.length]={prop:t,object:e,orig:u(e[t]),callback:n}},h=function(){i(arguments[1])?v.apply(this,arguments):c(arguments[1])?g.apply(this,arguments):w.apply(this,arguments)},v=function e(t,n,r,a){if("string"!=typeof t&&(t instanceof Object||c(t))){if(c(t)){if(L(t,"__watchall__",n,r),void 0===r||r>0)for(var i=0;i<t.length;i++)e(t[i],n,r,a)}else{var i,l=[];for(i in t)"$val"==i||!o&&"watchers"===i||Object.prototype.hasOwnProperty.call(t,i)&&l.push(i);g(t,l,n,r,a)}a&&D(t,"$$watchlengthsubjectroot",n,r)}},g=function(e,t,n,r,a){if("string"!=typeof e&&(e instanceof Object||c(e)))for(var o=0;o<t.length;o++){var i=t[o];w(e,i,n,r,a)}},w=function(e,t,n,r,a){"string"!=typeof e&&(e instanceof Object||c(e))&&(i(e[t])||(null!=e[t]&&(void 0===r||r>0)&&v(e[t],n,void 0!==r?r-1:r),L(e,t,n,r),a&&(void 0===r||r>0)&&D(e,t,n,r)))},b=function(){i(arguments[1])?y.apply(this,arguments):c(arguments[1])?m.apply(this,arguments):B.apply(this,arguments)},y=function(e,t){if(!(e instanceof String)&&(e instanceof Object||c(e)))if(c(e)){for(var n=["__watchall__"],r=0;r<e.length;r++)n.push(r);m(e,n,t)}else{!function e(n){var r=[];for(var a in n)n.hasOwnProperty(a)&&(n[a]instanceof Object?e(n[a]):r.push(a));m(n,r,t)}(e)}},m=function(e,t,n){for(var r in t)t.hasOwnProperty(r)&&B(e,t[r],n)},_=[],j=null,O=function(){return j||(j=setTimeout(e)),j},k=function(e){null==j&&O(),_[_.length]=e},x=function(){(i(arguments[2])?I:S).apply(this,arguments)},S=function(e,t,n,r){var a,o=null,i=-1,l=c(e),s=function(n,r,a,c){var s=O();if(i!==s&&(i=s,o={type:"update"},o.value=e,o.splices=null,k(function(){t.call(this,o),o=null})),l&&e===this&&null!==o){if("pop"===r||"shift"===r)a=[],c=[c];else if("push"===r||"unshift"===r)a=[a],c=[];else if("splice"!==r)return;o.splices||(o.splices=[]),o.splices[o.splices.length]={index:n,deleteCount:c?c.length:0,addedCount:a?a.length:0,added:a,deleted:c}}};a=1==n?void 0:0,v(e,s,a,r)},I=function(e,t,n,r,a){e&&t&&(w(e,t,function(e,t,o,i){var s={type:"update"};s.value=o,s.oldvalue=i,(r&&l(o)||c(o))&&S(o,n,r,a),n.call(this,s)},0),(r&&l(e[t])||c(e[t]))&&S(e[t],n,r,a))},L=function(e,n,r,a){var o=!1,i=c(e);e.watchers||(d(e,"watchers",{}),i&&P(e,function(t,r,o,i){if(W(e,t,r,o,i),0!==a&&o&&(l(o)||c(o))){var s,u,f,d,p=e.watchers[n];for((d=e.watchers.__watchall__)&&(p=p?p.concat(d):d),f=p?p.length:0,s=0;s<f;s++)if("splice"!==r)v(o,p[s],void 0===a?a:a-1);else for(u=0;u<o.length;u++)v(o[u],p[s],void 0===a?a:a-1)}})),e.watchers[n]||(e.watchers[n]=[],i||(o=!0));for(var s=0;s<e.watchers[n].length;s++)if(e.watchers[n][s]===r)return;if(e.watchers[n].push(r),o){var u=e[n],h=function(){return u},g=function(r,o){var i=u;if(u=r,0!==a&&e[n]&&(l(e[n])||c(e[n]))&&!e[n].watchers){var s,f=e.watchers[n].length;for(s=0;s<f;s++)v(e[n],e.watchers[n][s],void 0===a?a:a-1)}if(C(e,n))return void H(e,n);t.noMore||i!==r&&(o?W(e,n,"set",r,i):T(e,n,"set",r,i),t.noMore=!1)};t.useDirtyCheck?p(e,n,g):f(e,n,h,g)}},T=function e(t,n,r,a,o){if(void 0!==n){var i,c,l=t.watchers[n];(c=t.watchers.__watchall__)&&(l=l?l.concat(c):c),i=l?l.length:0;for(var s=0;s<i;s++)l[s].call(t,n,r,a,o)}else for(var n in t)t.hasOwnProperty(n)&&e(t,n,r,a,o)},E=["pop","push","reverse","shift","sort","slice","unshift","splice"],M=function(e,t,n,r){d(e,n,function(){var a,o,i,c,l=0;if("splice"===n){var s=arguments[0],u=s+arguments[1];for(i=e.slice(s,u),o=[],a=2;a<arguments.length;a++)o[a-2]=arguments[a];l=s}else o=arguments.length>0?arguments[0]:void 0;return c=t.apply(e,arguments),"slice"!==n&&("pop"===n?(i=c,l=e.length):"push"===n?l=e.length-1:"shift"===n?i=c:"unshift"!==n&&void 0===o&&(o=c),r.call(e,l,n,o,i)),c})},P=function(e,t){if(i(t)&&e&&!(e instanceof String)&&c(e))for(var n,r=E.length;r--;)n=E[r],M(e,e[n],n,t)},B=function(e,t,n){if(t){if(e.watchers[t])if(void 0===n)delete e.watchers[t];else for(var r=0;r<e.watchers[t].length;r++){var a=e.watchers[t][r];a==n&&e.watchers[t].splice(r,1)}}else delete e.watchers;R(e,t,n),z(e,t)},$=function(e,t){if(e.watchers){var n="__wjs_suspend__"+(void 0!==t?t:"");e.watchers[n]=!0}},C=function(e,t){return e.watchers&&(e.watchers.__wjs_suspend__||e.watchers["__wjs_suspend__"+t])},H=function(e,t){k(function(){delete e.watchers.__wjs_suspend__,delete e.watchers["__wjs_suspend__"+t]})},A=null,W=function(e,t,n,r,o){a[a.length]={obj:e,prop:t,mode:n,newval:r,oldval:o},null===A&&(A=setTimeout(F))},F=function(){var e=null;A=null;for(var t=0;t<a.length;t++)e=a[t],T(e.obj,e.prop,e.mode,e.newval,e.oldval);e&&(a=[],e=null)},q=function(){for(var e=0;e<n.length;e++){var t=n[e];if("$$watchlengthsubjectroot"===t.prop){var a=s(t.obj,t.actual);(a.added.length||a.removed.length)&&(a.added.length&&g(t.obj,a.added,t.watcher,t.level-1,!0),t.watcher.call(t.obj,"root","differentattr",a,t.actual)),t.actual=u(t.obj)}else{var a=s(t.obj[t.prop],t.actual);if(a.added.length||a.removed.length){if(a.added.length)for(var o=0;o<t.obj.watchers[t.prop].length;o++)g(t.obj[t.prop],a.added,t.obj.watchers[t.prop][o],t.level-1,!0);T(t.obj,t.prop,"differentattr",a,t.actual)}t.actual=u(t.obj[t.prop])}}var i,c;if(r.length>0)for(var e=0;e<r.length;e++)i=r[e],c=i.object[i.prop],J(i.orig,c)||(i.orig=u(c),i.callback(c))},J=function(e,t){var n,r=!0;if(e!==t)if(l(e)){for(n in e)if((o||"watchers"!==n)&&e[n]!==t[n]){r=!1;break}}else r=!1;return r},D=function(e,t,r,a){var o;o=u("$$watchlengthsubjectroot"===t?e:e[t]),n.push({obj:e,prop:t,actual:o,watcher:r,level:a})},R=function(e,t,r){for(var a=0;a<n.length;a++){var o=n[a];o.obj==e&&(t&&o.prop!=t||r&&o.watcher!=r||n.splice(a--,1))}},z=function(e,t){for(var n,a=0;a<r.length;a++){var o=r[a],i=o.object.watchers;n=o.object==e&&(!t||o.prop==t)&&i&&(!t||!i[t]||0==i[t].length),n&&r.splice(a--,1)}};return setInterval(q,50),t.watch=h,t.unwatch=b,t.callWatchers=T,t.suspend=$,t.onChange=x,t}),window.onload=render.watch;var app={title:"Welcome",todo:[],speak:function(e){return e}},var1="teeest",addItem=function(){app.todo.push($("#addItem").val())};